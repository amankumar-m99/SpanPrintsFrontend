<div class="me-1">
    <div class="d-flex justify-content-between align-items-center pb-2 mt-1 mb-2 border-bottom">
        <h3><i class="bi bi-person-lines-fill me-2 text-primary"></i>Customer Info</h3>
        <div class="d-flex">
            <div class="ms-2">
                <!-- Back / Breadcrumb -->
                <div class="mb-3">
                    <a routerLink="/dashboard/customers" class="text-decoration-none">
                        <i class="bi bi-arrow-left"></i> Back to Customers
                    </a>
                </div>
            </div>
        </div>
    </div>
    @if(errorMsg != null && errorMsg != ''){
    <P class="text-warning"> {{errorMsg}}</P>
    }
    @else {
    <div class="container-fluid">
        <!-- Customer Header -->
        <div class="card shadow-sm mb-4">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h4 class="mb-1"><i class="bi bi-person me-2"></i>{{ customer.name }}</h4>
                        <div class="text-muted small d-none">
                            Customer ID: {{ customer.uuid }}
                        </div>
                    </div>

                    <div>
                        <button class="btn btn-sm btn-outline-primary me-2" data-bs-toggle="modal"
                            data-bs-target="#addCustomerModal">
                            <i class="bi bi-pencil"></i> Edit
                        </button>
                        <button class="btn btn-sm btn-outline-danger">
                            <i class="bi bi-trash"></i> Delete
                        </button>
                    </div>
                </div>

                <hr />

                <div class="row g-3">
                    <div class="col-md-4">
                        <strong><i class="bi bi-envelope-at me-1"></i>Email</strong>
                        <div>{{ customer.email || 'N/A' }}</div>
                    </div>

                    <div class="col-md-4">
                        <strong><i class="bi bi-telephone me-1"></i>Primary Phone</strong>
                        <div>{{ customer.primaryPhoneNumber }}</div>
                    </div>

                    <div class="col-md-4">
                        <strong><i class="bi bi-telephone-plus me-1"></i>Alternate Phone</strong>
                        <div>{{ customer.alternatePhoneNumber || 'N/A' }}</div>
                    </div>

                    <div class="col-md-4">
                        <strong>Created At</strong>
                        <div>{{ customer.addedOn | date:'short' }}</div>
                    </div>

                    <div class="col-md-4">
                        <strong>Created By</strong>
                        <div>{{ customer.addedBy }}</div>
                    </div>

                    <div class="col-md-4">
                        <strong>Customer UUID</strong>
                        <div>
                            {{ customer.uuid }}
                            <span>
                                <button class="btn btn-sm btn-outline-secondary" (click)="copyUuid()"
                                    [disabled]="copied">
                                    <i class="bi" [ngClass]="copied ? 'bi-check-lg' : 'bi-copy'"></i>
                                </button>
                                <small *ngIf="copied" class="text-success ms-1">
                                    Copied!
                                </small>

                            </span>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <ul class="nav nav-tabs mb-3">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" href="#orders">
                    Orders
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#activity">
                    Activity
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#notes">
                    Notes
                </a>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content">

            <!-- Orders -->
            <div class="tab-pane fade show active" id="orders">
                <div class="alert alert-info">
                    Orders placed by this customer will appear here.
                </div>
            </div>

            <!-- Activity -->
            <div class="tab-pane fade" id="activity">
                <div class="alert alert-secondary">
                    Customer activity timeline coming soon.
                </div>
            </div>

            <!-- Notes -->
            <div class="tab-pane fade" id="notes">
                <div class="alert alert-light">
                    Internal notes related to this customer.
                </div>
            </div>
        </div>
    </div>
    <app-customer-modal [model]="customer" (successAction)="customerSuccess($event)"
        (errorAction)="customerError($event)"></app-customer-modal>
    <app-toast *ngIf="showToast" [type]='toastType' [message]='toastMsg' (closeAction)="toastCloseAction()"></app-toast>
    }
</div>